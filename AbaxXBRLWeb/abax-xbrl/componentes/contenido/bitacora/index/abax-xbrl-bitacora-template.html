<section>
    <section class="vbox">
        <section class="scrollable padder" style="padding-bottom: 100px;">
            <section class="panel panel-default">
                <header class="panel-heading">
                    {{'TITULO_BITACORA_AUDITORIA' | translate}}
                </header>
                <div class="row wrapper">
                    <div class="col-lg-3">
                        <select class="input-sm form-control input-s-lg v-middle"
                                ng-options="emisora as emisora.NombreCorto for emisora in emisoras"
                                ng-model="aEmisora"
                                style="display:none;"
                                data-placeholder="{{'PLACE_HOLDER_EMISORA' | translate}}"
                                ng-change="refreshData()"
                                chosen
                                width="'300px'"
                                allow-single-deselect="true">
                            <option value=""></option>
                        </select>
                    </div>
                    <div class="col-lg-3">
                        <select class="input-sm form-control input-s-lg v-middle"
                                ng-options="modulo as modulo.Nombre for modulo in modulos"
                                ng-model="aModulo"
                                style="display:none;"
                                data-placeholder="{{'PLACE_HOLDER_MODULO' | translate}}"
                                ng-change="refreshData()"
                                chosen
                                width="'300px'"
                                allow-single-deselect="true">
                            <option value=""></option>
                        </select>
                    </div>
                    <div class="col-lg-3">
                        <select class="input-sm form-control input-s-lg v-middle"
                                ng-options="accion as accion.Nombre for accion in acciones"
                                ng-model="aAccion"
                                style="display:none;"
                                data-placeholder="{{'PLACE_HOLDER_ACCION' | translate}}"
                                ng-change="refreshData()"
                                chosen
                                width="'300px'"
                                allow-single-deselect="true">
                            <option value=""></option>
                        </select> 
                    </div>
                    <div class="col-lg-3"> 
                        <!--input type="button"
                               value="{{'TITULO_DEPURAR_BITACORA' | translate}}"
                               ng-click="irADepurarBitacora()"
                               class="btn btn-sm btn-default"
                               ng-if="tieneFacultad(FacultadesEnum.DepurarDatosBitacora)"
                               style="width:300px; max-width:100%"-->
                    </div>   
                    <br /><br />
                    <br />
                    <div class="col-lg-3">
                        <select class="input-sm form-control input-s-lg v-middle"
                                ng-options="usuario as (usuario.NombreCompleto) for usuario in usuarios"
                                ng-model="aUsuario"
                                style="display:none;"
                                data-placeholder="{{'PLACE_HOLDER_USUARIO' | translate}}"
                                ng-change="refreshData()"
                                chosen
                                width="'300px'"
                                allow-single-deselect="true">
                            <option value=""></option>
                        </select>
                    </div>
                    <div class="col-lg-3">
                        <input type="text"
                               name="fecha"
                               placeholder="{{'PLACE_HOLDER_FECHA' | translate}}"
                               ng-model="aFecha"
                               ng-change="refreshData()"
                               class=" input-sm form-control input-s-lg inline v-middle datepicker-input form-control"
                               datepicker-popup="dd/MM/yyyy"
                               current-text="{{'ETIQUETA_HOY'| translate}}"
                               clear-text="{{'ETIQUETA_LIMPIAR'| translate}}"
                               close-text="{{'ETIQUETA_BOTON_CERRAR'| translate}}"
                               is-open="datePikerOpen"
                               style="width:300px; max-width:100%"
                               ng-click="muestraDatePiker($event)"
                               id="fecha" />
                    </div>
                    <div class="col-lg-3">
                        <input type="text"
                               name="registro"
                               placeholder="{{'PLACE_HOLDER_REGISTRO' | translate}}"
                               ng-model="aRegistro"
                               ng-change="refreshData()"
                               class="input-sm form-control input-s-lg inline v-middle"
                               style="width:300px; max-width:100%"
                               id="registro" />
                    </div>
                    <div class="col-lg-3">
                        <div ng-if="existeElementos">
                            <button type="button"
                                    class="btn btn-sm btn-default"
                                    ng-if="tieneFacultad(FacultadesEnum.ExportarDatosBitacora)"
                                    style="width:300px; max-width:100%"
                                    ng-click="exportaAExcel()"
                                    ng-hide="exportando">
                                <i class="i i-file-excel"></i>
                                {{'ETIQUETA_EXPORTAR' | translate}}
                            </button>
                            <button type="button" class="btn btn-sm btn-default" ng-if="exportando" style="width:200px" disabled>
                                <i class="fa fa-refresh fa-spin"></i>
                                {{'MENSAJE_INFO_EXPORTANDO' | translate}} ...
                            </button>
                        </div>
                        <div class="col-sm-3" ng-if="!existeElementos">
                            <button type="button" style="width:200px"
                                    class="btn btn-sm btn-default" disabled>
                                <i class="i i-file-excel"></i>
                                {{'ETIQUETA_EXPORTAR' | translate}}
                            </button>
                        </div>
                    </div>
                </div>
            </section>
            <section class="panel panel-default">
                <header class="panel-heading bg-light">{{'TITULO_HISTORIAL_ACTIVIDAD'| translate}}</header>

                <table class="table table-striped b-t b-light" datatable="" dt-options="opcionesDataTableLocal">
                    <thead>
                        <tr>
                            <th class="th-sortable" data-toggle="class" style="text-align:center; max-width:15%;" width="15%">{{'NOMBRE_COLUMNA_FECHA' | translate}}</th>
                            <th class="th-sortable" data-toggle="class" style="text-align:center; max-width:15%;" width="15%">{{'NOMBRE_COLUMNA_EMISORA' | translate}}</th>
                            <th class="th-sortable" data-toggle="class" style="text-align:center; max-width:15%;" width="15%">{{'NOMBRE_COLUMNA_MODULO' | translate}}</th>
                            <th class="th-sortable" data-toggle="class" style="text-align:center; max-width:15%;" width="15%">{{'NOMBRE_COLUMNA_ACCION' | translate}}</th>
                            <th class="th-sortable" data-toggle="class" style="text-align:center; max-width:15%;" width="15%">{{'NOMBRE_COLUMNA_USUARIO' | translate}}</th>
                            <th class="th-sortable" data-toggle="class" style="text-align:center; max-width:15%;" width="25%">{{'NOMBRE_COLUMNA_REGISTRO' | translate}}</th>
                        </tr>
                    </thead>
                    <tfoot>
                        <tr>
                            <th class="th-sortable" data-toggle="class" style="text-align:center;">{{'NOMBRE_COLUMNA_FECHA' | translate}}</th>
                            <th class="th-sortable" data-toggle="class" style="text-align:center;">{{'NOMBRE_COLUMNA_EMISORA' | translate}}</th>
                            <th class="th-sortable" data-toggle="class" style="text-align:center;">{{'NOMBRE_COLUMNA_MODULO' | translate}}</th>
                            <th class="th-sortable" data-toggle="class" style="text-align:center;">{{'NOMBRE_COLUMNA_ACCION' | translate}}</th>
                            <th class="th-sortable" data-toggle="class" style="text-align:center;">{{'NOMBRE_COLUMNA_USUARIO' | translate}}</th>
                            <th class="th-sortable" data-toggle="class" style="text-align:center;">{{'NOMBRE_COLUMNA_REGISTRO' | translate}}</th>
                        </tr>
                    </tfoot>

                </table>

                <div class="panel-body font-bold" style=" padding-left: 30px"></div>
                <footer class="panel-footer">
                    <div class="row">
                        <div class="col-sm-4 hidden-xs">
                            <div ng-if="existeElementos">
                                <button type="button"
                                        class="btn btn-sm btn-default"
                                        ng-if="tieneFacultad(FacultadesEnum.ExportarDatosBitacora)"
                                        style="width:200px; max-width:200%"
                                        ng-click="exportaAExcel()"
                                        ng-hide="exportando">
                                    <i class="i i-file-excel"></i>
                                    {{'ETIQUETA_EXPORTAR' | translate}}
                                </button>
                                <button type="button" class="btn btn-sm btn-default" ng-if="exportando" style="width:180px" disabled>
                                    <i class="fa fa-refresh fa-spin"></i>
                                    {{'MENSAJE_INFO_EXPORTANDO' | translate}} ...
                                </button>
                            </div>
                            <div class="col-sm-3" ng-if="!existeElementos">
                                <button type="button" style="width:180px"
                                        class="btn btn-sm btn-default" disabled>
                                    <i class="i i-file-excel"></i>
                                    {{'ETIQUETA_EXPORTAR' | translate}}
                                </button>
                            </div>
                        </div>
                        <div class="col-sm-4 text-center"></div>
                        <div class="col-sm-4 text-right text-center-xs"></div>
                    </div>
                </footer>
            </section>
        </section>
    </section>
</section>